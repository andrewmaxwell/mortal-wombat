"use strict";(self.webpackChunkmortal_wombat=self.webpackChunkmortal_wombat||[]).push([[60],{60:function(e,n,r){r.r(n),r.d(n,{DiffEditor:function(){return re},Editor:function(){return ce},default:function(){return ae},loader:function(){return F},useMonaco:function(){return te}});var t=r(885),o=r(413);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function u(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n);if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){u(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){l(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return n.reduceRight((function(e,n){return n(e)}),e)}}function v(e){return function n(){for(var r=this,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.apply(r,[].concat(o,t))}}}function g(e){return{}.toString.call(e).includes("Object")}function p(e){return"function"===typeof e}var h=v((function(e,n){throw new Error(e[n]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),m={changes:function(e,n){return g(n)||h("changeType"),Object.keys(n).some((function(n){return r=e,t=n,!Object.prototype.hasOwnProperty.call(r,t);var r,t}))&&h("changeField"),n},selector:function(e){p(e)||h("selectorType")},handler:function(e){p(e)||g(e)||h("handlerType"),g(e)&&Object.values(e).some((function(e){return!p(e)}))&&h("handlersType")},initial:function(e){var n;e||h("initialIsRequired"),g(e)||h("initialType"),n=e,Object.keys(n).length||h("initialContent")}};function y(e,n){return p(n)?n(e.current):n}function b(e,n){return e.current=d(d({},e.current),n),n}function w(e,n,r){return p(n)?n(e.current):Object.keys(r).forEach((function(r){var t;return null===(t=n[r])||void 0===t?void 0:t.call(n,e.current[r])})),r}var O={create:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.initial(e),m.handler(n);var r={current:e},t=v(w)(r,n),o=v(b)(r),i=v(m.changes)(e),u=v(y)(r);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m.selector(e),e(r.current)}function a(e){s(t,o,i,u)(e)}return[c,a]}},j=O;var M,E={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},P=(M=function(e,n){throw new Error(e[n]||e.default)},function e(){for(var n=this,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return t.length>=M.length?M.apply(this,t):function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply(n,[].concat(t,o))}})(E),R={config:function(e){var n;return e||P("configIsRequired"),n=e,{}.toString.call(n).includes("Object")||P("configType"),e.urls?(console.warn(E.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};function S(e,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&e[r]&&Object.assign(n[r],S(e[r],n[r]))})),a(a({},e),n)}var k={type:"cancelation",msg:"operation is manually canceled"};function T(e){var n=!1,r=new Promise((function(r,t){e.then((function(e){return n?t(k):r(e)})),e.catch(t)}));return r.cancel=function(){return n=!0},r}var C,I,x=["monaco"],A=j.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),D=(I=2,function(e){if(Array.isArray(e))return e}(C=A)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===n);else for(;!(a=(t=i.call(r)).done)&&(c.push(t.value),c.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(C,I)||function(e,n){if(e){if("string"==typeof e)return i(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,n):void 0}}(C,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),V=D[0],L=D[1];function Z(e){return document.body.appendChild(e)}function _(e){var n=V((function(e){return{config:e.config,reject:e.reject}})),r=function(e){var n=document.createElement("script");return e&&(n.src=e),n}("".concat(n.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=n.reject,r}function q(){var e=V((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],(function(n){var r=n.m||n;z(r),e.resolve(r)}),(function(n){e.reject(n)}))}function z(e){V().monaco||L({monaco:e})}var N=new Promise((function(e,n){return L({resolve:e,reject:n})})),F={config:function(e){var n=R.config(e),r=n.monaco,t=function(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==n.indexOf(t))continue;r[t]=e[t]}return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],-1===n.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(n,x);L((function(e){return{config:S(e.config,t),monaco:r}}))},init:function(){var e=V((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(L({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),T(N);if(window.monaco&&window.monaco.editor)return z(window.monaco),e.resolve(window.monaco),T(N);!function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return n.reduceRight((function(e,n){return n(e)}),e)}}(Z,_)(q)}return T(N)},__getMonacoInstance:function(){return V((function(e){return e.monaco}))}},U=r(791),B={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},W={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Y=function(e){var n=e.children;return U.createElement("div",{style:W.container},n)},$=Y;var G=function(e){var n=e.width,r=e.height,t=e.isEditorReady,i=e.loading,u=e._ref,c=e.className,a=e.wrapperProps;return U.createElement("section",(0,o.Z)({style:(0,o.Z)((0,o.Z)({},B.wrapper),{},{width:n,height:r})},a),!t&&U.createElement($,null,i),U.createElement("div",{ref:u,style:(0,o.Z)((0,o.Z)({},B.fullWidth),!t&&B.hide),className:c}))},H=(0,U.memo)(G);var J=function(e){(0,U.useEffect)(e,[])};var K=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],t=(0,U.useRef)(!0);(0,U.useEffect)(t.current||!r?function(){t.current=!1}:e,n)};function Q(){}function X(e,n,r,t){return function(e,n){return e.editor.getModel(ee(e,n))}(e,t)||function(e,n,r,t){return e.editor.createModel(n,r,t?ee(e,t):void 0)}(e,n,r,t)}function ee(e,n){return e.Uri.parse(n)}var ne=function(e){var n=e.original,r=e.modified,i=e.language,u=e.originalLanguage,c=e.modifiedLanguage,a=e.originalModelPath,l=e.modifiedModelPath,f=e.keepCurrentOriginalModel,d=void 0!==f&&f,s=e.keepCurrentModifiedModel,v=void 0!==s&&s,g=e.theme,p=void 0===g?"light":g,h=e.loading,m=void 0===h?"Loading...":h,y=e.options,b=void 0===y?{}:y,w=e.height,O=void 0===w?"100%":w,j=e.width,M=void 0===j?"100%":j,E=e.className,P=e.wrapperProps,R=void 0===P?{}:P,S=e.beforeMount,k=void 0===S?Q:S,T=e.onMount,C=void 0===T?Q:T,I=(0,U.useState)(!1),x=(0,t.Z)(I,2),A=x[0],D=x[1],V=(0,U.useState)(!0),L=(0,t.Z)(V,2),Z=L[0],_=L[1],q=(0,U.useRef)(null),z=(0,U.useRef)(null),N=(0,U.useRef)(null),B=(0,U.useRef)(C),W=(0,U.useRef)(k),Y=(0,U.useRef)(!1);J((function(){var e=F.init();return e.then((function(e){return(z.current=e)&&_(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return q.current?function(){var e,n,r,t,o=null===(e=q.current)||void 0===e?void 0:e.getModel();d||null!==o&&void 0!==o&&null!==(n=o.original)&&void 0!==n&&n.dispose(),v||null!==o&&void 0!==o&&null!==(r=o.modified)&&void 0!==r&&r.dispose(),null===(t=q.current)||void 0===t||t.dispose()}():e.cancel()}})),K((function(){if(q.current&&z.current){var e=q.current.getOriginalEditor(),r=X(z.current,n||"",u||i||"text",a||"");r!==e.getModel()&&e.setModel(r)}}),[a],A),K((function(){if(q.current&&z.current){var e=q.current.getModifiedEditor(),n=X(z.current,r||"",c||i||"text",l||"");n!==e.getModel()&&e.setModel(n)}}),[l],A),K((function(){var e=q.current.getModifiedEditor();e.getOption(z.current.editor.EditorOption.readOnly)?e.setValue(r||""):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[r],A),K((function(){var e,r;null===(e=q.current)||void 0===e||null===(r=e.getModel())||void 0===r||r.original.setValue(n||"")}),[n],A),K((function(){var e=q.current.getModel(),n=e.original,r=e.modified;z.current.editor.setModelLanguage(n,u||i||"text"),z.current.editor.setModelLanguage(r,c||i||"text")}),[i,u,c],A),K((function(){var e;null===(e=z.current)||void 0===e||e.editor.setTheme(p)}),[p],A),K((function(){var e;null===(e=q.current)||void 0===e||e.updateOptions(b)}),[b],A);var $=(0,U.useCallback)((function(){var e;if(z.current){W.current(z.current);var t=X(z.current,n||"",u||i||"text",a||""),o=X(z.current,r||"",c||i||"text",l||"");null===(e=q.current)||void 0===e||e.setModel({original:t,modified:o})}}),[i,r,c,n,u,a,l]),G=(0,U.useCallback)((function(){var e;!Y.current&&N.current&&(q.current=z.current.editor.createDiffEditor(N.current,(0,o.Z)({automaticLayout:!0},b)),$(),null!==(e=z.current)&&void 0!==e&&e.editor.setTheme(p),D(!0),Y.current=!0)}),[b,p,$]);return(0,U.useEffect)((function(){A&&B.current(q.current,z.current)}),[A]),(0,U.useEffect)((function(){!Z&&!A&&G()}),[Z,A,G]),U.createElement(H,{width:M,height:O,isEditorReady:A,loading:m,_ref:N,className:E,wrapperProps:R})},re=(0,U.memo)(ne);var te=function(){var e=(0,U.useState)(F.__getMonacoInstance()),n=(0,t.Z)(e,2),r=n[0],o=n[1];return J((function(){var e;return r||(e=F.init()).then((function(e){o(e)})),function(){var n;return null===(n=e)||void 0===n?void 0:n.cancel()}})),r};var oe=function(e){var n=(0,U.useRef)();return(0,U.useEffect)((function(){n.current=e}),[e]),n.current},ie=new Map;var ue=function(e){var n=e.defaultValue,r=e.defaultLanguage,i=e.defaultPath,u=e.value,c=e.language,a=e.path,l=e.theme,f=void 0===l?"light":l,d=e.line,s=e.loading,v=void 0===s?"Loading...":s,g=e.options,p=void 0===g?{}:g,h=e.overrideServices,m=void 0===h?{}:h,y=e.saveViewState,b=void 0===y||y,w=e.keepCurrentModel,O=void 0!==w&&w,j=e.width,M=void 0===j?"100%":j,E=e.height,P=void 0===E?"100%":E,R=e.className,S=e.wrapperProps,k=void 0===S?{}:S,T=e.beforeMount,C=void 0===T?Q:T,I=e.onMount,x=void 0===I?Q:I,A=e.onChange,D=e.onValidate,V=void 0===D?Q:D,L=(0,U.useState)(!1),Z=(0,t.Z)(L,2),_=Z[0],q=Z[1],z=(0,U.useState)(!0),N=(0,t.Z)(z,2),B=N[0],W=N[1],Y=(0,U.useRef)(null),$=(0,U.useRef)(null),G=(0,U.useRef)(null),ee=(0,U.useRef)(x),ne=(0,U.useRef)(C),re=(0,U.useRef)(),te=(0,U.useRef)(u),ue=oe(a),ce=(0,U.useRef)(!1),ae=(0,U.useRef)(!1);J((function(){var e=F.init();return e.then((function(e){return(Y.current=e)&&W(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return $.current?function(){var e,n;null!==(e=re.current)&&void 0!==e&&e.dispose(),O?b&&ie.set(a,$.current.saveViewState()):null===(n=$.current.getModel())||void 0===n||n.dispose(),$.current.dispose()}():e.cancel()}})),K((function(){var e,t,o,l,f=X(Y.current,n||u||"",r||c||"",a||i||"");f!==(null===(e=$.current)||void 0===e?void 0:e.getModel())&&(b&&ie.set(ue,null===(t=$.current)||void 0===t?void 0:t.saveViewState()),null!==(o=$.current)&&void 0!==o&&o.setModel(f),b&&(null===(l=$.current)||void 0===l||l.restoreViewState(ie.get(a))))}),[a],_),K((function(){var e;null===(e=$.current)||void 0===e||e.updateOptions(p)}),[p],_),K((function(){!$.current||void 0===u||($.current.getOption(Y.current.editor.EditorOption.readOnly)?$.current.setValue(u):u!==$.current.getValue()&&(ae.current=!0,$.current.executeEdits("",[{range:$.current.getModel().getFullModelRange(),text:u,forceMoveMarkers:!0}]),$.current.pushUndoStop(),ae.current=!1))}),[u],_),K((function(){var e,n,r=null===(e=$.current)||void 0===e?void 0:e.getModel();r&&c&&(null===(n=Y.current)||void 0===n||n.editor.setModelLanguage(r,c))}),[c],_),K((function(){var e;void 0!==d&&(null===(e=$.current)||void 0===e||e.revealLine(d))}),[d],_),K((function(){var e;null===(e=Y.current)||void 0===e||e.editor.setTheme(f)}),[f],_);var le=(0,U.useCallback)((function(){if(G.current&&Y.current&&!ce.current){var e;ne.current(Y.current);var t=a||i,l=X(Y.current,u||n||"",r||c||"",t||"");$.current=null===(e=Y.current)||void 0===e?void 0:e.editor.create(G.current,(0,o.Z)({model:l,automaticLayout:!0},p),m),b&&$.current.restoreViewState(ie.get(t)),Y.current.editor.setTheme(f),void 0!==d&&$.current.revealLine(d),q(!0),ce.current=!0}}),[n,r,i,u,c,a,p,m,b,f,d]);return(0,U.useEffect)((function(){_&&ee.current($.current,Y.current)}),[_]),(0,U.useEffect)((function(){!B&&!_&&le()}),[B,_,le]),te.current=u,(0,U.useEffect)((function(){var e,n;_&&A&&(null!==(e=re.current)&&void 0!==e&&e.dispose(),re.current=null===(n=$.current)||void 0===n?void 0:n.onDidChangeModelContent((function(e){ae.current||A($.current.getValue(),e)})))}),[_,A]),(0,U.useEffect)((function(){if(_){var e=Y.current.editor.onDidChangeMarkers((function(e){var n,r=null===(n=$.current.getModel())||void 0===n?void 0:n.uri;if(r&&e.find((function(e){return e.path===r.path}))){var t=Y.current.editor.getModelMarkers({resource:r});null===V||void 0===V||V(t)}}));return function(){null===e||void 0===e||e.dispose()}}return function(){}}),[_,V]),U.createElement(H,{width:M,height:P,isEditorReady:_,loading:v,_ref:G,className:R,wrapperProps:k})},ce=(0,U.memo)(ue),ae=ce}}]);
//# sourceMappingURL=60.f6db0ed1.chunk.js.map