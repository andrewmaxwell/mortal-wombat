"use strict";(self.webpackChunkmortal_wombat=self.webpackChunkmortal_wombat||[]).push([[60],{60:function(e,n,t){t.r(n),t.d(n,{DiffEditor:function(){return ue},Editor:function(){return de},default:function(){return se},loader:function(){return $},useMonaco:function(){return ce}});var r=t(885),o=t(413);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduceRight((function(e,n){return n(e)}),e)}}function g(e){return function n(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.apply(t,[].concat(o,r))}}}function p(e){return{}.toString.call(e).includes("Object")}function h(e){return"function"===typeof e}var y=g((function(e,n){throw new Error(e[n]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),m={changes:function(e,n){return p(n)||y("changeType"),Object.keys(n).some((function(n){return t=e,r=n,!Object.prototype.hasOwnProperty.call(t,r);var t,r}))&&y("changeField"),n},selector:function(e){h(e)||y("selectorType")},handler:function(e){h(e)||p(e)||y("handlerType"),p(e)&&Object.values(e).some((function(e){return!h(e)}))&&y("handlersType")},initial:function(e){var n;e||y("initialIsRequired"),p(e)||y("initialType"),n=e,Object.keys(n).length||y("initialContent")}};function b(e,n){return h(n)?n(e.current):n}function w(e,n){return e.current=s(s({},e.current),n),n}function O(e,n,t){return h(n)?n(e.current):Object.keys(t).forEach((function(t){var r;return null===(r=n[t])||void 0===r?void 0:r.call(n,e.current[t])})),t}var j={create:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.initial(e),m.handler(n);var t={current:e},r=g(O)(t,n),o=g(w)(t),i=g(m.changes)(e),u=g(b)(t);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m.selector(e),e(t.current)}function a(e){v(r,o,i,u)(e)}return[c,a]}},M=j,E={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};var P=function(e){return function n(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.apply(t,[].concat(o,r))}}};var R=function(e){return{}.toString.call(e).includes("Object")};var k={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},S=P((function(e,n){throw new Error(e[n]||e.default)}))(k),C={config:function(e){return e||S("configIsRequired"),R(e)||S("configType"),e.urls?(console.warn(k.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},I=C,T=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduceRight((function(e,n){return n(e)}),e)}};var x=function e(n,t){return Object.keys(t).forEach((function(r){t[r]instanceof Object&&n[r]&&Object.assign(t[r],e(n[r],t[r]))})),c(c({},n),t)},A={type:"cancelation",msg:"operation is manually canceled"};var D,V,Z=function(e){var n=!1,t=new Promise((function(t,r){e.then((function(e){return n?r(A):t(e)})),e.catch(r)}));return t.cancel=function(){return n=!0},t},L=M.create({config:E,isInitialized:!1,resolve:null,reject:null,monaco:null}),_=(V=2,function(e){if(Array.isArray(e))return e}(D=L)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t}}(D,V)||function(e,n){if(e){if("string"===typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(D,V)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),q=_[0],z=_[1];function N(e){return document.body.appendChild(e)}function F(e){var n=q((function(e){return{config:e.config,reject:e.reject}})),t=function(e){var n=document.createElement("script");return e&&(n.src=e),n}("".concat(n.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=n.reject,t}function U(){var e=q((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],(function(n){B(n),e.resolve(n)}),(function(n){e.reject(n)}))}function B(e){q().monaco||z({monaco:e})}var W=new Promise((function(e,n){return z({resolve:e,reject:n})})),Y={config:function(e){var n=I.config(e),t=n.monaco,r=a(n,["monaco"]);z((function(e){return{config:x(e.config,r),monaco:t}}))},init:function(){var e=q((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(z({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Z(W);if(window.monaco&&window.monaco.editor)return B(window.monaco),e.resolve(window.monaco),Z(W);T(N,F)(U)}return Z(W)},__getMonacoInstance:function(){return q((function(e){return e.monaco}))}},$=Y,G=t(791),H={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},J={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var K=function(e){var n=e.children;return G.createElement("div",{style:J.container},n)};var Q=function(e){var n=e.width,t=e.height,r=e.isEditorReady,i=e.loading,u=e._ref,c=e.className,a=e.wrapperProps;return G.createElement("section",(0,o.Z)({style:(0,o.Z)((0,o.Z)({},H.wrapper),{},{width:n,height:t})},a),!r&&G.createElement(K,null,i),G.createElement("div",{ref:u,style:(0,o.Z)((0,o.Z)({},H.fullWidth),!r&&H.hide),className:c}))},X=(0,G.memo)(Q);var ee=function(e){(0,G.useEffect)(e,[])};var ne=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,G.useRef)(!0);(0,G.useEffect)(r.current||!t?function(){r.current=!1}:e,n)};function te(){}function re(e,n,t,r){return function(e,n){return e.editor.getModel(oe(e,n))}(e,r)||function(e,n,t,r){return e.editor.createModel(n,t,r?oe(e,r):void 0)}(e,n,t,r)}function oe(e,n){return e.Uri.parse(n)}var ie=function(e){var n=e.original,t=e.modified,i=e.language,u=e.originalLanguage,c=e.modifiedLanguage,a=e.originalModelPath,l=e.modifiedModelPath,f=e.keepCurrentOriginalModel,d=void 0!==f&&f,s=e.keepCurrentModifiedModel,v=void 0!==s&&s,g=e.theme,p=void 0===g?"light":g,h=e.loading,y=void 0===h?"Loading...":h,m=e.options,b=void 0===m?{}:m,w=e.height,O=void 0===w?"100%":w,j=e.width,M=void 0===j?"100%":j,E=e.className,P=e.wrapperProps,R=void 0===P?{}:P,k=e.beforeMount,S=void 0===k?te:k,C=e.onMount,I=void 0===C?te:C,T=(0,G.useState)(!1),x=(0,r.Z)(T,2),A=x[0],D=x[1],V=(0,G.useState)(!0),Z=(0,r.Z)(V,2),L=Z[0],_=Z[1],q=(0,G.useRef)(null),z=(0,G.useRef)(null),N=(0,G.useRef)(null),F=(0,G.useRef)(I),U=(0,G.useRef)(S),B=(0,G.useRef)(!1);ee((function(){var e=$.init();return e.then((function(e){return(z.current=e)&&_(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return q.current?function(){var e,n,t,r,o=null===(e=q.current)||void 0===e?void 0:e.getModel();d||null!==o&&void 0!==o&&null!==(n=o.original)&&void 0!==n&&n.dispose(),v||null!==o&&void 0!==o&&null!==(t=o.modified)&&void 0!==t&&t.dispose(),null===(r=q.current)||void 0===r||r.dispose()}():e.cancel()}})),ne((function(){var e=q.current.getModifiedEditor();e.getOption(z.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],A),ne((function(){var e,t;null===(e=q.current)||void 0===e||null===(t=e.getModel())||void 0===t||t.original.setValue(n||"")}),[n],A),ne((function(){var e=q.current.getModel(),n=e.original,t=e.modified;z.current.editor.setModelLanguage(n,u||i||"text"),z.current.editor.setModelLanguage(t,c||i||"text")}),[i,u,c],A),ne((function(){var e;null===(e=z.current)||void 0===e||e.editor.setTheme(p)}),[p],A),ne((function(){var e;null===(e=q.current)||void 0===e||e.updateOptions(b)}),[b],A);var W=(0,G.useCallback)((function(){var e;if(z.current){U.current(z.current);var r=re(z.current,n||"",u||i||"text",a||""),o=re(z.current,t||"",c||i||"text",l||"");null===(e=q.current)||void 0===e||e.setModel({original:r,modified:o})}}),[i,t,c,n,u,a,l]),Y=(0,G.useCallback)((function(){var e;!B.current&&N.current&&(q.current=z.current.editor.createDiffEditor(N.current,(0,o.Z)({automaticLayout:!0},b)),W(),null!==(e=z.current)&&void 0!==e&&e.editor.setTheme(p),D(!0),B.current=!0)}),[b,p,W]);return(0,G.useEffect)((function(){A&&F.current(q.current,z.current)}),[A]),(0,G.useEffect)((function(){!L&&!A&&Y()}),[L,A,Y]),ne((function(){if(q.current&&z.current){var e=q.current.getOriginalEditor(),t=re(z.current,n||"",u||i||"text",a||"");t!==e.getModel()&&e.setModel(t)}}),[a],A),ne((function(){if(q.current&&z.current){var e=q.current.getModifiedEditor(),n=re(z.current,t||"",c||i||"text",l||"");n!==e.getModel()&&e.setModel(n)}}),[l],A),G.createElement(X,{width:M,height:O,isEditorReady:A,loading:y,_ref:N,className:E,wrapperProps:R})},ue=(0,G.memo)(ie);var ce=function(){var e=(0,G.useState)($.__getMonacoInstance()),n=(0,r.Z)(e,2),t=n[0],o=n[1];return ee((function(){var e;return t||(e=$.init()).then((function(e){o(e)})),function(){var n;return null===(n=e)||void 0===n?void 0:n.cancel()}})),t};var ae=function(e){var n=(0,G.useRef)();return(0,G.useEffect)((function(){n.current=e}),[e]),n.current},le=new Map;var fe=function(e){var n=e.defaultValue,t=e.defaultLanguage,i=e.defaultPath,u=e.value,c=e.language,a=e.path,l=e.theme,f=void 0===l?"light":l,d=e.line,s=e.loading,v=void 0===s?"Loading...":s,g=e.options,p=void 0===g?{}:g,h=e.overrideServices,y=void 0===h?{}:h,m=e.saveViewState,b=void 0===m||m,w=e.keepCurrentModel,O=void 0!==w&&w,j=e.width,M=void 0===j?"100%":j,E=e.height,P=void 0===E?"100%":E,R=e.className,k=e.wrapperProps,S=void 0===k?{}:k,C=e.beforeMount,I=void 0===C?te:C,T=e.onMount,x=void 0===T?te:T,A=e.onChange,D=e.onValidate,V=void 0===D?te:D,Z=(0,G.useState)(!1),L=(0,r.Z)(Z,2),_=L[0],q=L[1],z=(0,G.useState)(!0),N=(0,r.Z)(z,2),F=N[0],U=N[1],B=(0,G.useRef)(null),W=(0,G.useRef)(null),Y=(0,G.useRef)(null),H=(0,G.useRef)(x),J=(0,G.useRef)(I),K=(0,G.useRef)(),Q=(0,G.useRef)(u),oe=ae(a),ie=(0,G.useRef)(!1),ue=(0,G.useRef)(!1);ee((function(){var e=$.init();return e.then((function(e){return(B.current=e)&&U(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return W.current?function(){var e,n;null!==(e=K.current)&&void 0!==e&&e.dispose(),O?b&&le.set(a,W.current.saveViewState()):null===(n=W.current.getModel())||void 0===n||n.dispose(),W.current.dispose()}():e.cancel()}})),ne((function(){var e,r,o,l,f=re(B.current,n||u||"",t||c||"",a||i||"");f!==(null===(e=W.current)||void 0===e?void 0:e.getModel())&&(b&&le.set(oe,null===(r=W.current)||void 0===r?void 0:r.saveViewState()),null!==(o=W.current)&&void 0!==o&&o.setModel(f),b&&(null===(l=W.current)||void 0===l||l.restoreViewState(le.get(a))))}),[a],_),ne((function(){var e;null===(e=W.current)||void 0===e||e.updateOptions(p)}),[p],_),ne((function(){!W.current||void 0===u||(W.current.getOption(B.current.editor.EditorOption.readOnly)?W.current.setValue(u):u!==W.current.getValue()&&(ue.current=!0,W.current.executeEdits("",[{range:W.current.getModel().getFullModelRange(),text:u,forceMoveMarkers:!0}]),W.current.pushUndoStop(),ue.current=!1))}),[u],_),ne((function(){var e,n,t=null===(e=W.current)||void 0===e?void 0:e.getModel();t&&c&&(null===(n=B.current)||void 0===n||n.editor.setModelLanguage(t,c))}),[c],_),ne((function(){var e;void 0!==d&&(null===(e=W.current)||void 0===e||e.revealLine(d))}),[d],_),ne((function(){var e;null===(e=B.current)||void 0===e||e.editor.setTheme(f)}),[f],_);var ce=(0,G.useCallback)((function(){if(Y.current&&B.current&&!ie.current){var e;J.current(B.current);var r=a||i,l=re(B.current,u||n||"",t||c||"",r||"");W.current=null===(e=B.current)||void 0===e?void 0:e.editor.create(Y.current,(0,o.Z)({model:l,automaticLayout:!0},p),y),b&&W.current.restoreViewState(le.get(r)),B.current.editor.setTheme(f),q(!0),ie.current=!0}}),[n,t,i,u,c,a,p,y,b,f]);return(0,G.useEffect)((function(){_&&H.current(W.current,B.current)}),[_]),(0,G.useEffect)((function(){!F&&!_&&ce()}),[F,_,ce]),Q.current=u,(0,G.useEffect)((function(){var e,n;_&&A&&(null!==(e=K.current)&&void 0!==e&&e.dispose(),K.current=null===(n=W.current)||void 0===n?void 0:n.onDidChangeModelContent((function(e){ue.current||A(W.current.getValue(),e)})))}),[_,A]),(0,G.useEffect)((function(){if(_){var e=B.current.editor.onDidChangeMarkers((function(e){var n,t=null===(n=W.current.getModel())||void 0===n?void 0:n.uri;if(t&&e.find((function(e){return e.path===t.path}))){var r=B.current.editor.getModelMarkers({resource:t});null===V||void 0===V||V(r)}}));return function(){null===e||void 0===e||e.dispose()}}return function(){}}),[_,V]),G.createElement(X,{width:M,height:P,isEditorReady:_,loading:v,_ref:Y,className:R,wrapperProps:S})},de=(0,G.memo)(fe),se=de}}]);
//# sourceMappingURL=60.7113b821.chunk.js.map